---
title: Using Daemontools
inMenu: true
---

h2. Running the Server Under Daemontools

ThingFish is designed to optionally co-exist with Dan Bernstein's
"Daemontools":http://cr.yp.to/daemontools.html package, which gives you a lot of
service management and log rotation goodies for free.

h3. Daemontools run File

An example run file that can be used with supervise is included in the ThingFish distribution.
This run file adds the ThingFish and ThingFish plug-in libraries to Ruby's search path
before starting the daemon.  This isn't necessary if you've used RubyGems to install
ThingFish and ThingFish add-ons, but is useful if everything is extracted to a single
directory.

{example: {
  filename: examples/supervise-run-file.sh,
  language: shell,
  caption: A ThingFish run file for use with supervise
  }}

h3. Configuration File

Change the following ThingFish configuration options for best results with supervise.

<dl class="kvlist">
	<dt>daemon</dt>
	<dd class="description">
		The 'supervise' process within Daemontools wants the underlying process to
		run in the foreground.
	<dd class="default">Set this to <code>false</code></dd>
	
	<dt>logging</dt>
	<dd class="subsection">
		<dl>
			<dt>logfile</dt>
			<dd class="description">Daemontools comes with an included logging
				and rotation tool called "multilog.":http://cr.yp.to/daemontools/multilog.html
				Multilog wants to see log data on stdin.
			</dd>
			<dd class="default">Set this to <code>stdout</code></dd>
		</dl>
	</dd>
</dl>



