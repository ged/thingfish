#
# This is a configuration file for ThingFish we use for testing while developing.
#
# It causes the daemon to run from the development directory only, and store filestore 
# and metadata in /tmp/thingfish. 
#
---
port: 3474
ip: 0.0.0.0
spooldir: /tmp/thingfish
bufsize: 16384

defaulthandler:
    html_index: index.rhtml
    resource_dir: var/www

logging:
    level: debug
    logfile: stdout

plugins:
    filestore:
#        name: filesystem
        name: memory
        maxsize: 1073741824
        root: /tmp/thingfish
    metastore:
        name: memory
#        name: sequel
        sequel_connect: sqlite:////tmp/thingfish/metastore.db
    handlers:
        - inspect:
            uris: /inspect
            resource_dir: plugins/thingfish-inspecthandler/resources
        - status:
            uris: /status
            stat_uris: [/, /inspect, /upload]
            resource_dir: plugins/thingfish-statushandler/resources
        - formupload:
            uris: /upload
            resource_dir: plugins/thingfish-formuploadhandler/resources
        - simplemetadata:
            uris: /metadata
            resource_dir: var/www
        - simplesearch:
            uris: /search
            resource_dir: var/www
    filters:
        - ruby
        - html:
            resource_dir: var/www
        - yaml
        - json
        - mp3
        - exif
#        - image
        - xml:
            usetidy: false
            tidypath: /opt/local/lib/libtidy.dylib
